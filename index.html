<!-- ... other HTML code ... -->
    <script>
        function makeDexEntry(pokemon_id, aspect, forms) {
            const pokemon_id_aspect = `${pokemon_id}_${aspect}`;
            return {
                id: `cobblemon:${pokemon_id_aspect}`,
                speciesId: `cobblemon:${pokemon_id}`,
                displayAspects: [aspect],
                conditionAspects: [aspect],
                forms: forms,
                variations: [
                    {
                        displayName: `${pokemon_id}_${aspect}`,
                        aspects: [aspect]
                    }
                ]
            };
        }

        document.getElementById('dexForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const pokemon_id = document.getElementById('pokemon_id').value.trim();
            const aspect = document.getElementById('aspect').value.trim();
            const forms = [
                { displayForm: "Normal", unlockForms: ["Normal"] }
            ];
            if (document.getElementById('gmax').checked) {
                forms.push({ displayForm: "Gmax", unlockForms: ["Gmax"] });
            }
            if (document.getElementById('mega').checked) {
                forms.push({ displayForm: "Mega", unlockForms: ["Mega"] });
            }
            const dexEntry = makeDexEntry(pokemon_id, aspect, forms);
            const blob = new Blob([JSON.stringify(dexEntry, null, 4)], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            // Export filename as pokemon_aspect.json
            a.download = `${pokemon_id}_${aspect}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
    </script>
<!-- ... other HTML code ... -->
